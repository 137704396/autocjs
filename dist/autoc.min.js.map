{"version":3,"sources":["autoc.js"],"names":["root","factory","define","amd","exports","module","AutocJs","this","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","options","instance","TypeError","_classCallCheck","attributes","elements","article","wrap","modal","header","title","body","list","footer","switcher","top","overlay","anchors","data","headings","chapters","timer","initialize","render","addListeners","value","getElements","getData","set","defaults","document","querySelector","get","generateHeadings","querySelectorAll","generateChapters","destroy","prop","val","utils","Utils","attrs","arguments","isObject","extend","nodes","Array","forEach","call","node","push","id","guid","tagName","level","parseInt","replace","previous","heading","current","pid","_generatePid","rel","text","stripTags","trim","innerHTML","generateChapterCode","groups","groupBy","group","chapter","index","member","code","String","renderAnchors","renderOutline","_this","dom","DOM","anchorURL","el","icon","createElement","className","url","anchorStyle","anchor","aria-hidden","href","addClass","insertBefore","firstChild","appendChild","position","toLowerCase","renderOutsideOutline","renderInsideOutline","renderChapters","_this2","li","parent","ul","link","children","getElementById","_this3","rootElement","scrollTop","isScrollUp","MAX_SCROLL_HEIGHT","scrollHeight","window","innerHeight","MAX_SCROLL_TOP","count","scroll","stop","easeInQuad","setTimeout","clearTimeout","removeClass","hasClass","hide","show","removeListeners","parentNode","removeChild","remove","off","Events","_handleArticleHeadingMouseEnter","_handleArticleHeadingMouseLeave","_handleSwitcherClick","_handleTopClick","_handleOverlayClick","_handleChapterClick","_handleHeadingAnchorClick","delegate","evt","delegateTarget","getAttribute","events","offsetTop","offset","isEmpty","scrollTo","toggle","selector","anchorAt","isGenerateOutline","isGenerateOutlineChapterCode","isGenerateHeadingChapterCode","isGenerateHeadingAnchor","uuid","o","toString","apply","isArray","isElement","nodeName","nodeType","str","prefix","JSON","stringify","keys","map","x","origin","source","hasOwnProperty","element","attr","setAttribute","child","childNode","createTextNode","style","cssText","allClass","match","RegExp","left","offsetLeft","offsetParent","type","callback","context","capture","_delegateWrapper","addEventListener","e","getDelegateTarget","removeEventListener","stopPropagation","preventDefault","event","cancelBubble","returnValue","parentElement","differ","jQuery","$","fn","articleOutline","$article"],"mappings":"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","file":"autoc.min.js","sourcesContent":[";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.AutocJs = factory();\n  }\n}(this, function() {\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AutocJs = function () {\n    function AutocJs(options) {\n        _classCallCheck(this, AutocJs);\n\n        // 所有配置属性\n        this.attributes = {};\n\n        // 控件的所有 DOM 节点\n        this.elements = {\n            article: null,\n            wrap: null,\n            modal: null,\n            header: null,\n            title: null,\n            body: null,\n            list: null,\n            footer: null,\n            switcher: null,\n            top: null,\n            overlay: null,\n            anchors: []\n\n            // 控件的数据\n        };this.data = {\n            headings: [],\n            chapters: []\n        };\n\n        this.timer = null;\n\n        // 运行程序\n        this.initialize(options).render().addListeners();\n\n        return this;\n    }\n\n    _createClass(AutocJs, [{\n        key: 'initialize',\n        value: function initialize(options) {\n            var elements = this.getElements();\n            var data = this.getData();\n            var article = void 0;\n            var headings = void 0;\n\n            // 舒适化配置\n            this.set(AutocJs.defaults).set(options);\n\n            article = document.querySelector(this.get('article'));\n            headings = this.generateHeadings(article.querySelectorAll(this.get('selector')));\n\n            elements.article = article;\n\n            data.headings = headings;\n            data.chapters = this.generateChapters(headings);\n\n            return this;\n        }\n    }, {\n        key: 'reload',\n        value: function reload(options) {\n            this.destroy().initialize(options).render().addListeners();\n\n            return this;\n        }\n\n        /**\r\n         * 设置属性\r\n         * @param {String|Object} prop\r\n         * @param {*} [val]\r\n         * @returns {Autoc}\r\n         */\n\n    }, {\n        key: 'set',\n        value: function set(prop, val) {\n            var utils = AutocJs.Utils;\n            var attrs = this.attributes;\n\n            if (arguments.length === 2) {\n                attrs[prop] = val;\n            } else {\n                if (utils.isObject(prop)) {\n                    utils.extend(attrs, prop);\n                }\n            }\n\n            return this;\n        }\n\n        // 获取属性值\n\n    }, {\n        key: 'get',\n        value: function get(prop) {\n            return this.attributes[prop];\n        }\n    }, {\n        key: 'getElements',\n        value: function getElements() {\n            return this.elements;\n        }\n    }, {\n        key: 'getData',\n        value: function getData() {\n            return this.data;\n        }\n    }, {\n        key: 'generateHeadings',\n        value: function generateHeadings(nodes) {\n            var headings = [];\n            var utils = AutocJs.Utils;\n\n            Array.prototype.forEach.call(nodes, function (node) {\n                headings.push({\n                    id: utils.guid('outline-heading'),\n                    node: node,\n                    tagName: node.tagName,\n                    level: parseInt(node.tagName.replace(/[h]/i, ''), 10)\n                });\n            });\n\n            return headings;\n        }\n    }, {\n        key: 'generateChapters',\n        value: function generateChapters(headings) {\n            var utils = AutocJs.Utils;\n            var chapters = [];\n            var previous = 1;\n            var level = 0;\n\n            headings.forEach(function (heading, i) {\n                var current = heading.level;\n                var pid = -1;\n\n                // 当前标题的（标题标签）序号 > 前一个标题的序号：两个相连的标题是父标题 -> 子标题关系；\n                // h2 （前一个标题）\n                // h3 （当前标题）\n                if (current > previous) {\n                    level += 1;\n\n                    // 第一层级的 pid 是 -1\n                    if (level === 1) {\n                        pid = -1;\n                    } else {\n                        pid = i - 1;\n                    }\n                }\n                // 当前标题的（标题标签）序号 = 前一个标题的序号\n                // h2 （前一个标题）\n                // h2 （当前标题）\n                // 当前标题的（标题标签）序号 < 前一个标题的序号，并且当前标题序号 > 当前的级别\n                // h2\n                // h4 （前一个标题）\n                // h3 （当前标题：这种情况我们还是任务 h3 是 h2 的下一级章节）\n                else if (current === previous || current < previous && current > level) {\n                        // H1 的层级肯定是 1\n                        if (current === 1) {\n                            level = 1;\n\n                            pid = -1;\n                        } else {\n                            pid = chapters[i - 1].pid;\n                        }\n                    } else if (current <= level) {\n                        // H1 的层级肯定是 1\n                        if (current === 1) {\n                            level = 1;\n                        } else {\n                            level = level - (previous - current);\n\n                            if (level <= 1) {\n                                level = 1;\n                            }\n                        }\n\n                        // 第一级的标题\n                        if (level === 1) {\n                            pid = -1;\n                        } else {\n                            // 虽然看上去差点，不过能工作啊\n                            pid = AutocJs._generatePid(chapters, previous - current, i);\n                        }\n                    }\n\n                previous = current;\n\n                chapters.push({\n                    id: i,\n                    pid: pid,\n                    level: level,\n                    rel: heading.id,\n                    text: utils.stripTags(utils.trim(heading.node.innerHTML))\n                });\n            });\n\n            this.generateChapterCode(chapters);\n\n            return chapters;\n        }\n    }, {\n        key: 'generateChapterCode',\n        value: function generateChapterCode(chapters) {\n            var utils = AutocJs.Utils;\n            var groups = utils.groupBy(chapters, 'pid');\n\n            groups.forEach(function (group) {\n                group.forEach(function (chapter, i) {\n                    chapter.index = i + 1;\n                });\n            });\n\n            groups.forEach(function (group) {\n                group.forEach(function (member) {\n                    chapters.forEach(function (chapter) {\n                        if (chapter.pid === -1) {\n                            chapter.code = String(chapter.index);\n                        } else {\n                            if (chapter.pid === member.id) {\n                                chapter.code = member.code + '.' + chapter.index;\n                            }\n                        }\n                    });\n                });\n            });\n\n            return this;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            this.renderAnchors().renderOutline();\n\n            return this;\n        }\n    }, {\n        key: 'renderAnchors',\n        value: function renderAnchors() {\n            var _this = this;\n\n            var dom = AutocJs.Utils.DOM;\n            var data = this.getData();\n            var headings = data.headings;\n            var chapters = data.chapters;\n            var elements = this.getElements();\n            var anchorURL = this.get('anchorURL');\n\n            headings.forEach(function (heading, i) {\n                var el = heading.node;\n                var icon = dom.createElement('i', {\n                    className: 'icon icon-section outline-heading-icon'\n                });\n                var url = anchorURL ? anchorURL : '#' + heading.id;\n                var anchorStyle = _this.get('anchorAt') === 'front' ? 'outline-heading-anchor-at-front' : 'outline-heading-anchor-at-end';\n                var anchor = dom.createElement('a', {\n                    'aria-hidden': true,\n                    className: 'outline-heading-anchor ' + anchorStyle + ' outline-link outline-hidden',\n                    rel: heading.id,\n                    href: url\n                }, [icon]);\n                var code = void 0;\n\n                dom.addClass(el, 'outline-heading');\n                el.id = heading.id;\n\n                if (_this.get('isGenerateHeadingChapterCode')) {\n                    code = dom.createElement('span', {\n                        className: 'outline-heading-code'\n                    }, [chapters[i].code]);\n\n                    el.insertBefore(code, el.firstChild);\n                }\n\n                if (_this.get('isGenerateHeadingAnchor')) {\n                    el.appendChild(anchor);\n                    elements.anchors.push(anchor);\n                }\n            });\n\n            return this;\n        }\n    }, {\n        key: 'renderOutline',\n        value: function renderOutline() {\n            var position = this.get('position').toLowerCase();\n\n            if (!this.get('isGenerateOutline')) {\n                return this;\n            }\n\n            // 以导航菜单形式显示\n            switch (position) {\n                case 'outside':\n                    this.renderOutsideOutline();\n                    break;\n                case 'inside':\n                    this.renderInsideOutline();\n                    break;\n            }\n\n            this.renderChapters();\n\n            return this;\n        }\n    }, {\n        key: 'renderOutsideOutline',\n        value: function renderOutsideOutline() {\n            var utils = AutocJs.Utils;\n            var dom = utils.DOM;\n            var elements = this.getElements();\n            var title = this.get('title');\n\n            // 创建导航头部\n            elements.title = dom.createElement('h2', {\n                className: 'outline-outside-title'\n            }, [title]);\n            elements.header = dom.createElement('div', {\n                className: 'outline-outside-header'\n            }, [elements.title]);\n\n            elements.list = dom.createElement('ul', {\n                className: 'outline-outside-list'\n            });\n\n            elements.body = dom.createElement('div', {\n                className: 'outline-outside-body'\n            }, [elements.list]);\n\n            elements.switcher = dom.createElement('div', {\n                className: 'outline-outside-button outline-outside-switcher'\n            }, [dom.createElement('i', {\n                className: 'icon icon-menu'\n            })]);\n\n            elements.top = dom.createElement('div', {\n                className: 'outline-outside-button outline-outside-top'\n            }, [dom.createElement('a', {\n                href: '#top',\n                className: 'outline-outside-top'\n            }, [dom.createElement('i', {\n                className: 'icon icon-arrow-up'\n            })])]);\n\n            elements.footer = dom.createElement('div', {\n                className: 'outline-outside-footer'\n            }, [elements.switcher, elements.top]);\n\n            // 创建导航菜单主体框架\n            elements.modal = dom.createElement('div', {\n                className: 'outline-outside-modal'\n            }, [elements.header, elements.body, elements.footer]);\n\n            // 创建导航菜单遮罩层\n            elements.overlay = dom.createElement('div', {\n                className: 'outline-outside-overlay outline-hidden'\n            });\n\n            // 创建导航容器\n            elements.wrap = dom.createElement('div', {\n                className: 'outline-outside'\n            }, [elements.modal, elements.overlay]);\n\n            document.body.appendChild(elements.wrap);\n\n            return this;\n        }\n    }, {\n        key: 'renderInsideOutline',\n        value: function renderInsideOutline() {\n            var utils = AutocJs.Utils;\n            var dom = utils.DOM;\n            var elements = this.getElements();\n            var title = this.get('title');\n\n            // 创建导航头部\n            elements.title = dom.createElement('h2', {\n                className: 'outline-inside-title'\n            }, [title]);\n            elements.header = dom.createElement('div', {\n                className: 'outline-inside-header'\n            }, [elements.title]);\n\n            elements.list = dom.createElement('ul', {\n                className: 'outline-inside-list'\n            });\n\n            elements.body = dom.createElement('div', {\n                className: 'outline-inside-body'\n            }, [elements.list]);\n\n            // 创建导航菜单主体框架\n            elements.wrap = dom.createElement('div', {\n                className: 'outline-inside'\n            }, [elements.header, elements.body]);\n\n            elements.article.insertBefore(elements.wrap, elements.article.firstChild);\n\n            return this;\n        }\n    }, {\n        key: 'renderChapters',\n        value: function renderChapters() {\n            var _this2 = this;\n\n            var chapters = this.getData().chapters;\n            var dom = AutocJs.Utils.DOM;\n            var list = this.getElements().list;\n\n            chapters.forEach(function (chapter) {\n                var pid = chapter.pid;\n                var parent = void 0;\n                var ul = void 0;\n                var li = void 0;\n                var code = void 0;\n                var text = dom.createElement('span', {\n                    className: 'outline-chapter-text'\n                }, [chapter.text]);\n                var link = dom.createElement('a', {\n                    className: 'outline-link',\n                    href: '#' + chapter.rel,\n                    rel: chapter.rel\n                }, [text]);\n\n                var children = [];\n\n                if (_this2.get('isGenerateOutlineChapterCode')) {\n                    code = dom.createElement('span', {\n                        className: 'outline-chapter-code'\n                    }, [chapter.code]);\n\n                    children.push(code);\n                }\n\n                children.push(link);\n\n                li = dom.createElement('li', {\n                    id: 'outline-chapter-' + chapter.id,\n                    className: 'outline-chapter'\n                }, children);\n\n                if (pid === -1) {\n                    list.appendChild(li);\n                } else {\n                    parent = document.getElementById('outline-chapter-' + pid);\n                    ul = document.getElementById('outline-subject-' + pid);\n\n                    if (!ul) {\n                        ul = dom.createElement('ul', {\n                            id: 'outline-subject-' + pid,\n                            className: 'outline-subject'\n                        }, [li]);\n\n                        parent.appendChild(ul);\n                    } else {\n                        ul.appendChild(li);\n                    }\n                }\n            });\n\n            return this;\n        }\n    }, {\n        key: 'scrollTo',\n        value: function scrollTo(top) {\n            var _this3 = this;\n\n            var utils = AutocJs.Utils;\n            var elements = document.querySelectorAll('html,body');\n            var rootElement = elements[0].scrollTop - elements[1].scrollTop >= 0 ? elements[0] : elements[1];\n            var scrollTop = rootElement.scrollTop;\n            var isScrollUp = top - rootElement.scrollTop < 0;\n            var MAX_SCROLL_HEIGHT = rootElement.scrollHeight - window.innerHeight;\n            var MAX_SCROLL_TOP = top - MAX_SCROLL_HEIGHT <= 0 ? top : MAX_SCROLL_HEIGHT;\n            var SPEED = 30;\n            var count = 0;\n            var scroll = function scroll() {\n\n                if (_this3.timer) {\n                    _this3.stop();\n                }\n\n                count += 1;\n\n                if (isScrollUp) {\n                    scrollTop -= utils.easeInQuad(count);\n                    rootElement.scrollTop = scrollTop;\n\n                    if (rootElement.scrollTop <= top) {\n                        rootElement.scrollTop = top;\n                        _this3.stop();\n                        return false;\n                    }\n                } else {\n                    scrollTop += utils.easeInQuad(count);\n                    rootElement.scrollTop = scrollTop;\n\n                    if (rootElement.scrollTop >= MAX_SCROLL_TOP) {\n                        rootElement.scrollTop = MAX_SCROLL_TOP;\n                        _this3.stop();\n                        return false;\n                    }\n                }\n\n                _this3.timer = setTimeout(scroll, SPEED);\n            };\n\n            scroll();\n\n            return this;\n        }\n    }, {\n        key: 'stop',\n        value: function stop() {\n            clearTimeout(this.timer);\n            this.timer = null;\n\n            return this;\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            var elements = this.getElements();\n            var dom = AutocJs.Utils.DOM;\n\n            dom.addClass(elements.modal, 'outline-outside-modal-opened');\n            dom.removeClass(elements.overlay, 'outline-hidden');\n\n            return this;\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            var elements = this.getElements();\n            var dom = AutocJs.Utils.DOM;\n\n            dom.removeClass(elements.modal, 'outline-outside-modal-opened');\n            dom.addClass(elements.overlay, 'outline-hidden');\n\n            return this;\n        }\n    }, {\n        key: 'toggle',\n        value: function toggle() {\n            if (AutocJs.Utils.DOM.hasClass(this.getElements().modal, 'outline-outside-modal-opened')) {\n                this.hide();\n            } else {\n                this.show();\n            }\n\n            return this;\n        }\n    }, {\n        key: 'remove',\n        value: function remove() {\n            var elements = this.getElements();\n            var wrap = elements.wrap;\n\n            this.removeListeners();\n\n            if (this.get('isGenerateHeadingAnchor')) {\n                elements.anchors.forEach(function (anchor) {\n                    anchor.parentNode.removeChild(anchor);\n                });\n            }\n\n            wrap.parentNode.removeChild(wrap);\n\n            return this;\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.remove();\n\n            // 所有配置属性\n            this.attributes = {};\n\n            // 控件的所有 DOM 节点\n            this.elements = {\n                article: null,\n                wrap: null,\n                modal: null,\n                header: null,\n                title: null,\n                body: null,\n                list: null,\n                footer: null,\n                switcher: null,\n                top: null,\n                overlay: null,\n                anchors: []\n\n                // 控件的数据\n            };this.data = {\n                headings: [],\n                chapters: []\n            };\n\n            this.timer = null;\n\n            return this;\n        }\n    }, {\n        key: 'removeListeners',\n        value: function removeListeners() {\n            var elements = this.getElements();\n            var article = elements.article;\n            var wrap = elements.wrap;\n            var utils = AutocJs.Utils;\n            var off = utils.Events.off;\n            var position = this.get('position').toLowerCase();\n\n            off(article, 'mouseenter', this._handleArticleHeadingMouseEnter);\n            off(article, 'mouseleave', this._handleArticleHeadingMouseLeave);\n\n            if (position === 'outside') {\n                off(wrap, 'click', this._handleSwitcherClick);\n                off(wrap, 'click', this._handleTopClick);\n                off(wrap, 'click', this._handleOverlayClick);\n            }\n\n            off(wrap, 'click', this._handleChapterClick);\n\n            if (this.get('isGenerateHeadingAnchor')) {\n                off(article, 'click', this._handleHeadingAnchorClick);\n            }\n\n            return this;\n        }\n    }, {\n        key: 'addListeners',\n        value: function addListeners() {\n            var elements = this.getElements();\n            var article = elements.article;\n            var wrap = elements.wrap;\n            var utils = AutocJs.Utils;\n            var events = utils.Events;\n            var delegate = events.delegate;\n            var position = this.get('position').toLowerCase();\n\n            delegate(article, '.outline-heading', 'mouseenter', this._handleArticleHeadingMouseEnter, this);\n            delegate(article, '.outline-heading', 'mouseleave', this._handleArticleHeadingMouseLeave, this);\n\n            if (position === 'outside') {\n                delegate(wrap, '.outline-outside-switcher', 'click', this._handleSwitcherClick, this);\n                delegate(wrap, '.outline-outside-top', 'click', this._handleTopClick, this);\n                delegate(wrap, '.outline-outside-overlay', 'click', this._handleOverlayClick, this);\n            }\n\n            delegate(wrap, '.outline-link', 'click', this._handleChapterClick, this);\n\n            if (this.get('isGenerateHeadingAnchor')) {\n                delegate(article, '.outline-heading-anchor', 'click', this._handleHeadingAnchorClick, this);\n            }\n\n            return this;\n        }\n    }, {\n        key: '_handleArticleHeadingMouseEnter',\n        value: function _handleArticleHeadingMouseEnter(evt) {\n            var target = evt.delegateTarget;\n            var anchor = target.querySelector('.outline-heading-anchor');\n\n            if (anchor) {\n                AutocJs.Utils.DOM.removeClass(anchor, 'outline-hidden');\n            }\n\n            return this;\n        }\n    }, {\n        key: '_handleArticleHeadingMouseLeave',\n        value: function _handleArticleHeadingMouseLeave(evt) {\n            var target = evt.delegateTarget;\n            var anchor = target.querySelector('.outline-heading-anchor');\n\n            if (anchor) {\n                AutocJs.Utils.DOM.addClass(anchor, 'outline-hidden');\n            }\n\n            return this;\n        }\n    }, {\n        key: '_handleHeadingAnchorClick',\n        value: function _handleHeadingAnchorClick(evt) {\n            var anchor = evt.delegateTarget;\n            var rel = anchor.getAttribute('rel');\n            var heading = document.querySelector('#' + rel);\n            var utils = AutocJs.Utils;\n            var dom = utils.DOM;\n            var events = utils.Events;\n            var offsetTop = dom.offset(heading).top;\n\n            if (utils.isEmpty(this.get('anchorURL'))) {\n                this.stop().scrollTo(offsetTop);\n                events.stop(evt);\n            }\n\n            return this;\n        }\n    }, {\n        key: '_handleChapterClick',\n        value: function _handleChapterClick(evt) {\n            var anchor = evt.delegateTarget;\n            var rel = anchor.getAttribute('rel');\n            var heading = document.querySelector('#' + rel);\n            var utils = AutocJs.Utils;\n            var dom = utils.DOM;\n            var events = utils.Events;\n            var offsetTop = dom.offset(heading).top;\n\n            if (this.get('position') === 'outside') {\n                this.hide();\n            }\n\n            this.stop().scrollTo(offsetTop);\n            events.stop(evt);\n\n            return this;\n        }\n    }, {\n        key: '_handleSwitcherClick',\n        value: function _handleSwitcherClick() {\n            this.toggle();\n\n            return this;\n        }\n    }, {\n        key: '_handleTopClick',\n        value: function _handleTopClick(evt) {\n            var utils = AutocJs.Utils;\n            var events = utils.Events;\n\n            this.stop().scrollTo(0);\n\n            events.stop(evt);\n\n            return this;\n        }\n    }, {\n        key: '_handleOverlayClick',\n        value: function _handleOverlayClick() {\n            this.hide();\n\n            return this;\n        }\n    }]);\n\n    return AutocJs;\n}();\n\n/**\r\n * Outline 对象的默认配置信息\r\n *\r\n * @type {Object}\r\n */\n\n\nAutocJs.defaults = {\n    // 文章正文 DOM 节点的 ID 选择器\n    article: '#article',\n    // 要收集的标题选择器\n    selector: 'h1,h2,h3,h4,h5,h6',\n    // 侧边栏导航的标题\n    title: '文章导读',\n    // 文章导读导航的位置\n    // outside - 以侧边栏菜单形式显示（默认值）\n    // inside - 在文章正文一开始的地方显示\n    position: 'outside',\n    // 标题图标链接的 URL 地址\n    // （默认）没有设置定制，点击链接页面滚动到标题位置\n    // 设置了链接地址，则不会滚动定位\n    anchorURL: '',\n    // 链接的显示位置\n    // front - 在标题最前面（默认值）\n    // back - 在标题后面\n    anchorAt: 'front',\n    // 是否生成文章导读导航\n    isGenerateOutline: true,\n    // 是否在文章导读导航中显示段落章节编号\n    isGenerateOutlineChapterCode: true,\n    // 是否在正文的文章标题中显示段落章节编号\n    isGenerateHeadingChapterCode: false,\n    // 是否在正文的文章标题中创建锚点\n    isGenerateHeadingAnchor: true\n\n    /**\r\n     * 常用的静态方法集\r\n     *\r\n     * @type {Object}\r\n     */\n};AutocJs.Utils = {\n    uuid: 0,\n    isObject: function isObject(o) {\n        return Object.prototype.toString.apply(o) === '[object Object]' && o !== null;\n    },\n    isArray: function isArray(o) {\n        if (Array.isArray) {\n            return Array.isArray(o);\n        } else {\n            return Object.prototype.toString.apply(o) === '[object Array]';\n        }\n    },\n    isElement: function isElement(o) {\n        return o && o.nodeName && o.tagName && o.nodeType === 1;\n    },\n    isEmpty: function isEmpty(str) {\n        return typeof str === 'string' && str === '';\n    },\n    guid: function guid(prefix) {\n        var utils = AutocJs.Utils;\n\n        utils.uuid += 1;\n\n        return prefix ? prefix + '-' + utils.uuid : 'guid-' + utils.uuid;\n    },\n    trim: function trim(str) {\n        return str.replace(/^\\s+/g, '').replace(/\\s+$/g, '');\n    },\n    stripTags: function stripTags(str) {\n        return str.replace(/<\\/?[^>]+(>|$)/g, '');\n    },\n    groupBy: function groupBy(list, prop) {\n        var groups = {};\n        var cb = function cb(o) {\n            return [o[prop]];\n        };\n\n        list.forEach(function (o) {\n            var group = JSON.stringify(cb(o));\n\n            groups[group] = groups[group] || [];\n            groups[group].push(o);\n        });\n\n        return Object.keys(groups).map(function (group) {\n            return groups[group];\n        });\n    },\n    easeInQuad: function easeInQuad(x) {\n        return x * x;\n    },\n    extend: function extend(origin, source) {\n        for (var prop in source) {\n            if (source.hasOwnProperty(prop)) {\n                origin[prop] = source[prop];\n            }\n        }\n    }\n\n    /**\r\n     * DOM 相关的静态方法集\r\n     *\r\n     * @type {Object}\r\n     */\n};AutocJs.Utils.DOM = {\n    /**\r\n     * 创建 DOM 节点，并添加属性和子节点\r\n     *\r\n     * @param {String} tagName - 标签名称\r\n     * @param {Object} attributes - 属性对象\r\n     * @param {Array} children - 子节点数组\r\n     * @returns {HTMLElement}\r\n     */\n    createElement: function createElement(tagName, attributes, children) {\n        var utils = AutocJs.Utils;\n        var dom = utils.DOM;\n        var element = document.createElement(tagName);\n\n        for (var attr in attributes) {\n            if (attributes.hasOwnProperty(attr)) {\n                dom.setAttribute(element, attr, attributes[attr]);\n            }\n        }\n\n        if (utils.isArray(children)) {\n            children.forEach(function (child) {\n                var childNode = utils.isElement(child) ? child : document.createTextNode(child);\n\n                element.appendChild(childNode);\n            });\n        }\n\n        return element;\n    },\n    /**\r\n     * 给 DOM 节点设置属性/值\r\n     *\r\n     * @param {HTMLElement} el - DOM 节点\r\n     * @param {String} attr - 属性名称\r\n     * @param {String|Number|Boolean} value - 属性值\r\n     */\n    setAttribute: function setAttribute(el, attr, value) {\n        var tagName = el.tagName.toLowerCase();\n\n        switch (attr) {\n            case 'style':\n                el.style.cssText = value;\n                break;\n            case 'value':\n                if (tagName === 'input' || tagName === 'textarea') {\n                    el.value = value;\n                } else {\n                    el.setAttribute(attr, value);\n                }\n                break;\n            case 'className':\n                el.className = value;\n                break;\n            default:\n                el.setAttribute(attr, value);\n                break;\n        }\n    },\n    /**\r\n     * 检测 DOM 节点是否包含名为 className 的样式\r\n     *\r\n     * @param {HTMLElement} el - DOM 节点\r\n     * @param {String} className - 样式名称\r\n     * @returns {*}\r\n     */\n    hasClass: function hasClass(el, className) {\n        var allClass = el.className;\n\n        if (!allClass) {\n            return false;\n        }\n\n        return allClass.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'));\n    },\n\n    /**\r\n     * 给 DOM 节点添加名为 className 的样式\r\n     *\r\n     * @param {HTMLElement} el - DOM 节点\r\n     * @param {String} className - 样式名称\r\n     * @returns {Boolean}\r\n     */\n    addClass: function addClass(el, className) {\n        var allClass = el.className;\n\n        if (AutocJs.Utils.DOM.hasClass(el, className)) {\n            return false;\n        }\n\n        allClass += allClass.length > 0 ? ' ' + className : className;\n\n        el.className = allClass;\n    },\n\n    /**\r\n     * 移除 DOM 节点的 className 样式\r\n     *\r\n     * @param {HTMLElement} el - DOM 节点\r\n     * @param {String} className - 样式名称\r\n     * @returns {Boolean}\r\n     */\n    removeClass: function removeClass(el, className) {\n        var utils = AutocJs.Utils;\n        var allClass = el.className;\n\n        if (!allClass || !utils.DOM.hasClass(el, className)) {\n            return false;\n        }\n\n        allClass = utils.trim(allClass.replace(className, ''));\n\n        el.className = allClass;\n    },\n\n    /**\r\n     * 获取 DOM 节点相对于窗口的 left 和 top 值\r\n     *\r\n     * @param {HTMLElement} el - DOM 节点\r\n     * @returns {{left: Number, top: Number}}\r\n     */\n    offset: function offset(el) {\n        var dom = AutocJs.Utils.DOM;\n        var left = dom.offsetLeft(el);\n        var top = dom.offsetTop(el);\n\n        return {\n            left: left,\n            top: top\n        };\n    },\n\n    /**\r\n     * 获取 DOM 节点相对于窗口的 left （纵坐标）值\r\n     *\r\n     * @param {HTMLElement} el - DOM 节点\r\n     * @returns {Number}\r\n     */\n    offsetTop: function offsetTop(el) {\n        var dom = AutocJs.Utils.DOM;\n        var top = el.offsetTop;\n\n        if (el.offsetParent !== null) {\n            top += dom.offsetTop(el.offsetParent);\n        }\n\n        return top;\n    },\n\n    /**\r\n     * 获取 DOM 节点相对于窗口的 left（横坐标）值\r\n     *\r\n     * @param {HTMLElement} el - DOM 节点\r\n     * @returns {Number}\r\n     */\n    offsetLeft: function offsetLeft(el) {\n        var dom = AutocJs.Utils.DOM;\n        var left = el.offsetLeft;\n\n        if (el.offsetParent !== null) {\n            left += dom.offsetLeft(el.offsetParent);\n        }\n\n        return left;\n    }\n};\n\n/**\r\n * 事件相关的静态方法集\r\n *\r\n * @type {Object}\r\n */\nAutocJs.Utils.Events = {\n    /**\r\n     * 绑定代理事件\r\n     * ========================================================\r\n     * 说明：代码修改至 Nicolas Gallagher 的 delegate.js\r\n     * 项目 GitHub 地址：https://github.com/necolas/delegate.js\r\n     * ========================================================\r\n     * @param {HTMLElement} el - 绑定代理事件的 DOM 节点\r\n     * @param {String} selector - 触发 el 代理事件的 DOM 节点的选择器\r\n     * @param {String} type - 事件类型\r\n     * @param {Function} callback - 绑定事件的回调函数\r\n     * @param {Object} [context] - callback 回调函数的 this 上下文（默认值：el）\r\n     * @param {Boolean} [capture] - 是否采用事件捕获（默认值：false - 事件冒泡）\r\n     */\n    delegate: function delegate(el, selector, type, callback, context, capture) {\n        var wrapper = function wrapper(e) {\n            if (e.delegateTarget = AutocJs.getDelegateTarget(el, e.target, selector)) {\n                callback.call(context || el, e);\n            }\n        };\n\n        if (type === 'mouseenter' || type === 'mouseleave') {\n            capture = true;\n        }\n\n        callback._delegateWrapper = callback;\n        el.addEventListener(type, wrapper, capture || false);\n    },\n\n    /**\r\n     * 取消事件绑定\r\n     * ========================================================\r\n     * 说明：代码修改至 Nicolas Gallagher 的 delegate.js\r\n     * 项目 GitHub 地址：https://github.com/necolas/delegate.js\r\n     * ========================================================\r\n     * @param {HTMLElement} el - 取消绑定（代理）事件的 DOM 节点\r\n     * @param {String} type - 事件类型\r\n     * @param {Function} callback - 绑定事件的回调函数\r\n     * @param {Boolean} [capture] - 是否采用事件捕获（默认值：false - 事件冒泡）\r\n     */\n    off: function off(el, type, callback, capture) {\n        if (callback._delegateWrapper) {\n            callback = callback._delegateWrapper;\n            delete callback._delegateWrapper;\n        }\n\n        if (type === 'mouseenter' || type === 'mouseleave') {\n            capture = true;\n        }\n\n        el.removeEventListener(type, callback, capture || false);\n    },\n\n    /**\r\n     * 停止事件（阻止默认行为和阻止事件的捕获或冒泡）\r\n     *\r\n     * @param {Event} evt - 事件对象\r\n     */\n    stop: function stop(evt) {\n        var events = AutocJs.Utils.Events;\n\n        events.stopPropagation(evt);\n        events.preventDefault(evt);\n    },\n\n    /**\r\n     * 终止事件在传播过程的捕获或冒泡\r\n     *\r\n     * @param {Event} evt - 事件对象\r\n     */\n    stopPropagation: function stopPropagation(evt) {\n        var event = window.event;\n\n        if (evt.stopPropagation) {\n            evt.stopPropagation();\n        } else {\n            event.cancelBubble = true;\n        }\n    },\n\n    /**\r\n     * 阻止事件的默认行为\r\n     *\r\n     * @param {Event} evt - 事件对象\r\n     */\n    preventDefault: function preventDefault(evt) {\n        var event = window.event;\n\n        if (evt.preventDefault) {\n            evt.preventDefault();\n        } else {\n            event.returnValue = false;\n        }\n    }\n};\n\n/**\r\n * 通过 className 获得事件代理节点的事件代理目标节点\r\n * ========================================================\r\n * 说明：代码修改至 Nicolas Gallagher 的 delegate.js\r\n * 项目 GitHub 地址：https://github.com/necolas/delegate.js\r\n * ========================================================\r\n * @static\r\n * @param {HTMLElement} el - 绑定事件代理的节点\r\n * @param target - （触发事件后）事件的目标对象\r\n * @param selector - 目标节点的类选择器\r\n * @returns {HTMLElement|Null}\r\n */\nAutocJs.getDelegateTarget = function (el, target, selector) {\n    while (target && target !== el) {\n        if (AutocJs.Utils.DOM.hasClass(target, selector.replace('.', ''))) {\n            return target;\n        }\n\n        target = target.parentElement;\n    }\n\n    return null;\n};\n\n/**\r\n * 通过索引和两个标题之前的等级差值获得当前标题节点的父级标题节点的 pid\r\n *\r\n * @static\r\n * @private\r\n * @param {Array} chapters\r\n * @param {Number} differ\r\n * @param {Number} index\r\n * @returns {*}\r\n */\nAutocJs._generatePid = function (chapters, differ, index) {\n    var pid = void 0;\n\n    // 最大只有 5 级的差距\n    switch (differ) {\n        case 2:\n            pid = chapters[chapters[chapters[index - 1].pid].pid].pid;\n            break;\n        case 3:\n            pid = chapters[chapters[chapters[chapters[index - 1].pid].pid].pid].pid;\n            break;\n        case 4:\n            pid = chapters[chapters[chapters[chapters[chapters[index - 1].pid].pid].pid].pid].pid;\n            break;\n        case 5:\n            pid = chapters[chapters[chapters[chapters[chapters[chapters[index - 1].pid].pid].pid].pid].pid].pid;\n            break;\n        default:\n            pid = chapters[chapters[index - 1].pid].pid;\n            break;\n    }\n\n    return pid;\n};\n\nif (window.jQuery) {\n    // 将 ArticleOutline 扩展为一个 jquery 插件\n    $.extend($.fn, {\n        articleOutline: function articleOutline(options) {\n            var $article = $(this);\n\n            return new AutocJs($.extend({}, options, {\n                article: $article\n            }));\n        }\n    });\n}\nreturn AutocJs;\n}));\n"]}